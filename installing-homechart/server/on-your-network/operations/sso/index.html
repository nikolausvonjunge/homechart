<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Single Sign-On (SSO) # For self-hosted users, Homechart can integrate with your existing authentication system to allow your household members to authenticate with it or even sign in automatically. Some things to note:
The account will be created if the email address does not exist in Homechart already. You should pre-create your household members using the email address that the SSO will pass through, otherwise they will be created under a separate household."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Single Sign-On (SSO)"><meta property="og:description" content="Single Sign-On (SSO) # For self-hosted users, Homechart can integrate with your existing authentication system to allow your household members to authenticate with it or even sign in automatically. Some things to note:
The account will be created if the email address does not exist in Homechart already. You should pre-create your household members using the email address that the SSO will pass through, otherwise they will be created under a separate household."><meta property="og:type" content="article"><meta property="og:url" content="https://docs.homechart.app/installing-homechart/server/on-your-network/operations/sso/"><meta property="article:section" content="installing-homechart"><title>Single Sign-On (SSO) | Homechart</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.056ffeb1d147b4b0ecf72584d63e3579efb127926fd3a11c044ef867b83942cd.js integrity="sha256-BW/+sdFHtLDs9yWE1j41ee+xJ5Jv06EcBE74Z7g5Qs0=" crossorigin=anonymous></script>
<script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/logo.png alt=Logo><span>Homechart</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><input type=checkbox id=section-d7497409a7a42a4f55baa6c0ac75649f class=toggle checked>
<label for=section-d7497409a7a42a4f55baa6c0ac75649f class="flex justify-between"><a role=button>Installing Homechart</a></label><ul><li><span>Client</span><ul><li><a href=/installing-homechart/client/android/>Android</a></li><li><a href=/installing-homechart/client/ios/>iOS</a></li><li><a href=/installing-homechart/client/web/>Web</a></li></ul></li><li><span>Server</span><ul><li><a href=/installing-homechart/server/in-the-cloud/>In The Cloud (Hosted)</a></li><li><input type=checkbox id=section-187ef1a2473e7fa3e1506645a6846ede class=toggle checked>
<label for=section-187ef1a2473e7fa3e1506645a6846ede class="flex justify-between"><a href=/installing-homechart/server/on-your-network/>On Your Network (Self-Hosted)</a></label><ul><li><span>Installation</span><ul><li><input type=checkbox id=section-1f374f2f2280c574c7dec0c05dcf299a class=toggle>
<label for=section-1f374f2f2280c574c7dec0c05dcf299a class="flex justify-between"><a role=button>Platform Specific</a></label><ul><li><a href=/installing-homechart/server/on-your-network/installation/platform_specific/unraid/>unRAID</a></li></ul></li><li><a href=/installing-homechart/server/on-your-network/installation/requirements/>Requirements</a></li><li><a href=/installing-homechart/server/on-your-network/installation/binary-install/>Binary Install</a></li><li><a href=/installing-homechart/server/on-your-network/installation/container-install/>Container Install</a></li><li><a href=/installing-homechart/server/on-your-network/installation/configuration-options/>Configuration Options</a></li></ul></li><li><span>Operations</span><ul><li><a href=/installing-homechart/server/on-your-network/operations/backups/>Backups</a></li><li><a href=/installing-homechart/server/on-your-network/operations/households/>Households</a></li><li><a href=/installing-homechart/server/on-your-network/operations/updates/>Updates</a></li><li><a href=/installing-homechart/server/on-your-network/operations/sso/ class=active>Single Sign-On (SSO)</a></li></ul></li></ul></li></ul></li></ul></li><li class=book-section-flat><a href=/using-homechart/>Using Homechart</a><ul><li><span>Components</span><ul><li><a href=/using-homechart/components/bookmarks/>Bookmarks</a></li><li><a href=/using-homechart/components/budget/>Budget</a></li><li><a href=/using-homechart/components/calendar/>Calendar</a></li><li><a href=/using-homechart/components/cook/>Cook</a></li><li><a href=/using-homechart/components/health/>Health</a></li><li><a href=/using-homechart/components/inventory/>Inventory</a></li><li><a href=/using-homechart/components/notes/>Notes</a></li><li><a href=/using-homechart/components/plan/>Plan</a></li><li><a href=/using-homechart/components/reward/>Reward</a></li><li><a href=/using-homechart/components/secrets/>Secrets</a></li><li><a href=/using-homechart/components/shop/>Shop</a></li></ul></li><li><span>Platform</span><ul><li><a href=/using-homechart/platform/markdown/>Markdown</a></li><li><a href=/using-homechart/platform/settings/>Settings</a></li></ul></li></ul></li><li class=book-section-flat><a href=/security/>Security</a><ul><li><a href=/security/client/>Client</a></li><li><a href=/security/server/>Server</a></li></ul></li><li class=book-section-flat><span>Getting Help</span><ul><li><a href=/getting-help/community-support/>Community Support</a></li><li><a href=/getting-help/paid-support/>Paid Support</a></li></ul></li><li class=book-section-flat><span>Helping Out</span><ul><li><a href=/helping-out/communities/>Communities</a></li><li><a href=/helping-out/documentation/>Documentation</a></li><li><a href=/helping-out/translating/>Translating</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Single Sign-On (SSO)</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#single-sign-on-sso>Single Sign-On (SSO)</a><ul><li><a href=#examples>Examples</a><ul><li><a href=#traefik--authelia--homechart>Traefik + Authelia + Homechart</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=single-sign-on-sso>Single Sign-On (SSO)
<a class=anchor href=#single-sign-on-sso>#</a></h1><p>For self-hosted users, Homechart can integrate with your existing authentication system to allow your household members to authenticate with it or even sign in automatically. Some things to note:</p><ul><li>The account will be created if the email address does not exist in Homechart already. You should pre-create your household members using the email address that the SSO will pass through, otherwise they will be created under a separate household.</li><li>If the account already exists in Homechart, Homechart will create a new session for the account associated with the email address that the SSO passes. <strong>Please ensure you have properly configured your SSO implementation to avoid malicious users from setting the proxy headers and gaining access to your instance.</strong></li><li>At a minimum, you must have the appropriate configuration values set for
<a href=/getting-started/on-your-network/installation/configuration-options/#app-proxyaddress>HOMECHART_APP_PROXYADDRESS</a> and
<a href=/getting-started/on-your-network/installation/configuration-options/#app-proxyaddress>HOMECHART_APP_PROXYHEADEREMAIL</a> to enable SSO.</li></ul><h2 id=examples>Examples
<a class=anchor href=#examples>#</a></h2><h3 id=traefik--authelia--homechart>Traefik + Authelia + Homechart
<a class=anchor href=#traefik--authelia--homechart>#</a></h3><p>In this example,
<a href=https://github.com/traefik/traefik>Traefik</a> sits in front of Homechart and proxies request to it.
<a href=https://github.com/authelia/authelia>Authelia</a> is installed and configured for authentication within Traefik. Traefik will check with Authelia to see if the traffic is allowed, and then pass the proxy headers to Homechart. Homechart is configured to look for these proxy headers (<code>Remote-Name</code>, <code>Remote-Email</code>) and source address of Traefik.</p><p>In this contrived example, Authelia is configured with a local database of users. On your network, you would configure Authelia to use your authentication source, such as LDAP/Active Directory.</p><h4 id=traefik-dynamic-config-traefik-dynamicyaml>Traefik Dynamic Config (traefik-dynamic.yaml)
<a class=anchor href=#traefik-dynamic-config-traefik-dynamicyaml>#</a></h4><pre tabindex=0><code>http:
  middlewares:
    authelia:
      forwardauth:
        address: http://localhost:9091/api/verify?rd=https://auth.example.com:8443
        authResponseHeaders:
          - Remote-Name
          - Remote-Email
        trustForwardHeader: true
  routers:
    authelia:
      service: authelia
      rule: &#34;Host(`auth.example.com`)&#34;
      tls: true
    homechart:
      middlewares:
        - authelia
      service: homechart
      rule: &#34;Host(`homechart.example.com`)&#34;
      tls: true
  services:
    authelia:
      loadBalancer:
        servers:
          - url: http://localhost:9091
    homechart:
      loadBalancer:
        servers:
          - url: http://localhost:3000
</code></pre><h4 id=traefik-command-line>Traefik Command Line
<a class=anchor href=#traefik-command-line>#</a></h4><pre tabindex=0><code>./traefik --entrypoints.https=true --entrypoints.https.address=:8443 --providers.file.filename=traefik-dynamic.yaml
</code></pre><h4 id=authelia-config-autheliayaml>Authelia Config (authelia.yaml)
<a class=anchor href=#authelia-config-autheliayaml>#</a></h4><pre tabindex=0><code>server:
  host: 0.0.0.0
  port: 9091
log:
  level: debug
jwt_secret: C57E160E9CE711D214BF4CCF407DE6C64FCF19A7C20E7C6D7C2FF18826A7E1AA
default_redirection_url: https://auth.example.com:8443
authentication_backend:
  file:
    path: ./users.yaml
    password:
      algorithm: argon2id
      iterations: 1
      salt_length: 16
      parallelism: 8
      memory: 1024 # blocks this much of the RAM. Tune this.
access_control:
  default_policy: one_factor
session:
  name: authelia_session
  domain: example.com
storage:
  encryption_key: superdupersecretsecret
  local:
    path: ./db.sqlite3
notifier:
  filesystem:
    filename: ./notification.txt
</code></pre><h4 id=authelia-user-config-usersyaml>Authelia User Config (users.yaml)
<a class=anchor href=#authelia-user-config-usersyaml>#</a></h4><pre tabindex=0><code>users:
  jane@example.com:
    displayname: &#34;Jane Doe&#34;
    password: $argon2id$v=19$m=65536,t=1,p=8$Z2JJSk9qbVlXVk9VWUtQMw$2VqsXXhvTfiHxxvmDUj8GpzPCktmMxdLR2rojFxxknc
    email: jane@example.com
    groups:
      - dev
  john@example.com:
    displayname: &#34;John Doe&#34;
    password: &#34;$argon2id$v=19$m=65536,t=1,p=8$MlplVVhMbzNmcXJmaVVsaA$ydwPNQ5wW3Lu1XuPWhQW7dzlNGP3ynexmzlQmyVMaIY&#34;
    email: john@example.com
    groups:
      - dev
</code></pre><h4 id=authelia-command-line>Authelia Command Line
<a class=anchor href=#authelia-command-line>#</a></h4><pre tabindex=0><code>./authelia-linux-amd64 --config authelia.yaml
</code></pre><h4 id=homechart-command-line>Homechart Command Line
<a class=anchor href=#homechart-command-line>#</a></h4><pre tabindex=0><code>HOMECHART_APP_PROXYADDRESS=[::1] HOMECHART_APP_PROXYHEADEREMAIL=Remote-Email HOMECHART_APP_PROXYHEADERNAME=Remote-Name ./homechart_linux_amd64 -c config.json serve
</code></pre></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/candiddev/homechart/edit/main/content/installing-homechart/server/on-your-network/operations/sso.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#single-sign-on-sso>Single Sign-On (SSO)</a><ul><li><a href=#examples>Examples</a><ul><li><a href=#traefik--authelia--homechart>Traefik + Authelia + Homechart</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>